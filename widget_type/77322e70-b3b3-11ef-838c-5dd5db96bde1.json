{
  "entityType" : "WIDGET_TYPE",
  "entity" : {
    "fqn" : "client_header",
    "name" : "Table header",
    "deprecated" : false,
    "image" : "tb-image:Y2xpZW50c19oZWFkZXIucG5n:Y2xpZW50c19oZWFkZXIucG5n:SU1BR0U=;data:image/png;base64,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",
    "description" : null,
    "descriptor" : {
      "type" : "latest",
      "sizeX" : 9,
      "sizeY" : 3,
      "resources" : [ ],
      "templateHtml" : "<div class=\"titleFilterContainer\">\n    <div class=\"title\" [fxShow]=\"!textSearchMode\">\n        {{title}}\n    </div>\n    <div class=\"filterContainer\" [fxShow]=\"!textSearchMode\">\n        <div class=\"actions\">\n            <button mat-icon-button\n                          matTooltip=\"{{ 'action.search' | translate }}\"\n                          matTooltipPosition=\"above\"\n                          (click)=\"enterSearchMode()\"\n                          style=\"width: 40px; height: 40px; padding: 8px;\">\n                    <mat-icon>search</mat-icon>\n            </button>\n            <button *ngFor=\"let action of actions\" \n                    mat-flat-button color=\"primary\" class=\"btn_add\"\n                    matTooltip=\"{{action.displayName}}\"\n                    matTooltipPosition=\"above\"\n                    (click)=\"performCustomAction($event, action.displayName)\">\n                 <mat-icon>{{action.icon}}</mat-icon> \n                 <span class=\"hide\">\n                     {{action.name}}\n                 </span>\n            </button>\n        </div>\n    </div>\n    \n    <mat-toolbar class=\"mat-mdc-table-toolbar mat-table-toolbar\" [fxShow]=\"textSearchMode\"\n        style=\"background: transparent; padding: 0 30px 0 10px;\">\n            <div class=\"mat-toolbar-tools\">\n              <button mat-icon-button (click)=\"$event.preventDefault()\"\n                      matTooltip=\"{{ 'action.search' | translate }}\"\n                      matTooltipPosition=\"above\">\n                  <mat-icon>search</mat-icon>\n              </button>\n              <mat-form-field fxFlex>\n                  <mat-label>&nbsp;</mat-label>\n                  <input #searchInput id=\"searchInput\" matInput\n                        (input)=\"search($event)\" \n                      placeholder=\"{{ 'entity.search' | translate }}\"/>\n              </mat-form-field>\n              <button mat-icon-button (click)=\"exitFilterMode()\"\n                      matTooltip=\"{{ 'action.close' | translate }}\"\n                      matTooltipPosition=\"above\">\n                  <mat-icon>close</mat-icon>\n              </button>\n        </div>\n    </mat-toolbar>\n</div>\n",
      "templateCss" : ".titleFilterContainer, .filterContainer{\n    height: 100%;\n    display: flex;\n    align-items: center;\n}\n\n.titleFilterContainer .title{\n    color: #3c3b3c;\n    font-weight: 500;\n    font-size: 18px;\n}\n\n.titleFilterContainer{\n    padding: 0 10px 0 20px;\n    justify-content: space-between;\n}\n\n.filterContainer{\n    justify-content: flex-end;\n}\n\n.filterContainer .actions{\n    display: flex;\n    gap: 10px;\n}\n\n.filter{\n    margin-right: 8px;\n}\n\n.filter mat-select{\n    margin: 2px 5px;\n    cursor: pointer;\n    background: #e9e9e9;\n    color: #7a7c84;\n    font-weight: 400;\n    border: none;\n    padding: 3px 12px;\n    border-radius: 20px;\n    min-width: 130px;\n}\n\n.actions button mat-icon{\n    height: 20px;\n    width: 20px;\n    font-size: 20px;\n}\n\nbutton mat-icon{\n    font-size: 21px;\n}\nbutton.mat-focus-indicator.btn_add.mat-flat-button.mat-button-base.mat-primary {\n    color: #fff;\n    /*background-color: rgba(8, 11, 88, 1);*/\n    font-family: \"Roboto\";\n    font-style: normal;\n    font-weight: 600;\n    padding: 5px 38px;\n    font-size: 14px;\n    border-radius: 3px;\n}\n\n@media screen and (max-width: 750px){\n    .btn_add{\n        min-width: unset !important;\n    }\n    \n    .hide{\n        display: none;\n    }\n    \n    .btn_add mat-icon{\n        margin: 0 10px !important;\n    }\n}\n",
      "controllerScript" : "let settings, aliasController, filters = [], searchParameter;\n\nself.onInit = function() {\n    var $injector = self.ctx.$scope.$injector;\n    var utils = $injector.get(self.ctx.servicesMap.get('utils'));\n    settings = utils.deepClone(self.ctx.settings) || {};\n    aliasController = ctx.dashboard.aliasController;\n    self.ctx.$scope.title = settings.cardTitle ? settings.cardTitle : 'Device list';\n    self.ctx.$scope.displayFilter = settings.displayFilter;\n    self.ctx.$scope.textSearchMode = false;\n    self.ctx.$scope.entities = self.ctx.datasources;\n    searchParameter = settings.searchParameter || 'name';\n    \n    self.ctx.$scope.actions = self.ctx.$scope.ctx.actionsApi.getActionDescriptors('elementClick');\n    \n    if(aliasController.origFilters) {\n        for (let localFilter in aliasController.origFilters) {\n            let filter = aliasController.origFilters[localFilter];\n            if(filter.filter == settings['searchFilter']){\n                filters.push(JSON.parse(JSON.stringify(filter)));\n            }\n        }\n    }\n    \n    self.ctx.$scope.changeFilter = function(keyName, value){\n        if(value=='all' && keyName == 'status') value = '';\n        \n        if(filters.length>0){\n            filters.forEach(filter=>{\n                if (filter && filter.keyFilters) {\n                    let condition = filter.keyFilters.find(v=>v.key.key==keyName);\n                    if(condition){\n                        condition.predicates[0].keyFilterPredicate.value.defaultValue = value;\n                        filter = JSON.parse(JSON.stringify(filter));\n                        aliasController.updateUserFilter(filter);  \n                    }\n                }\n            })\n        }\n    }\n    \n    self.ctx.$scope.enterSearchMode = function(){\n        self.ctx.$scope.textSearchMode = true;\n        \n        setTimeout(() => {\n            $('#searchInput').focus();\n        }, 10);\n    }\n    \n    self.ctx.$scope.exitFilterMode = function(){\n        $('#searchInput').val(\"\");\n        self.ctx.$scope.textSearchMode = false;\n        self.ctx.$scope.changeFilter(searchParameter, '');\n    }\n    \n    self.ctx.$scope.search = function(event){\n        let input = event.target.value.toLowerCase();\n        \n        let entities = self.ctx.$scope.entities.filter(d=>\n            d.name.toLowerCase().includes(input));\n\n        let nameList = entities.map(d=>d.entityLabel);\n        if(nameList.length==0){\n            nameList = ['{}'];\n        } else if(nameList.length==self.ctx.$scope.entities.length){\n            nameList = [];\n        }  \n        \n        self.ctx.$scope.changeFilter(searchParameter, nameList.toString());\n    }\n    \n    self.ctx.$scope.performCustomAction = function(event, actionName){\n        let actionEventDescriptors = self.ctx.$scope.actions;\n        let actionEvent, params;\n        if (actionEventDescriptors.length) {\t\n            actionEventDescriptors.forEach(action=>{\n                if(action.name == actionName){\n                    actionEvent = action;\n                }\n            });\n                \n            setTimeout(() => {\n                self.ctx.$scope.ctx.actionsApi.handleWidgetAction(null, actionEvent, null, null);\n            }, 0);\t\n        }\n    }\n    \n    self.ctx.$scope.changeFilter();\n    self.ctx.detectChanges();\n}\n\nself.typeParameters = function() {\n    return {\n        datasourcesOptional: true,\n        dataKeysOptional: true\n    };\n}\n\nself.actionSources = function() {\n    return {\n        'elementClick': {\n            name: 'widget-action.element-click',\n            multiple: true\n        }\n    };\n}\n\nself.onDestroy = function() {\n}\n",
      "settingsSchema" : "{\n    \"schema\": {\n         \"type\": \"object\",\n         \"title\": \"Settings\",\n         \"properties\": {\n            \"cardTitle\": {\n                \"title\": \"Title\",\n                \"type\": \"string\",\n                \"default\": \"List\"\n            },\n            \"searchFilter\": {\n                \"title\": \"Search filter name\",\n                \"type\": \"string\",\n                \"default\": \"\"\n            },\n            \"searchParameter\": {\n                \"title\": \"Search parameter\",\n                \"type\": \"string\",\n                \"default\": \"name\"\n            } \n          },\n          \"required\": []\n         },\n    \"form\": [\n      \"cardTitle\",\n      \"searchFilter\",\n      \"searchParameter\"\n    ]\n }",
      "dataKeySettingsSchema" : "{}\n",
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"dataKeys\":null,\"alarmFilterConfig\":{\"statusList\":[\"ACTIVE\"]}}],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"showTitle\":false,\"backgroundColor\":\"#FFFFFF\",\"color\":\"#4B535B\",\"padding\":\"\",\"settings\":{\"cardTitle\":\"Company\",\"searchParameter\":\"title\",\"searchFilter\":\"Company Search Filter\"},\"title\":\"Attributes card\",\"showTitleIcon\":false,\"titleTooltip\":\"\",\"dropShadow\":false,\"enableFullscreen\":false,\"enableDataExport\":false,\"widgetStyle\":{\"border-left\":\"2px solid #D2D6DB\",\"border-right\":\"2px solid #D2D6DB\",\"border-top\":\"2px solid #D2D6DB\"},\"widgetCss\":\"\",\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400},\"pageSize\":1024,\"noDataDisplayMessage\":\"\",\"actions\":{\"elementClick\":[{\"name\":\"Add company\",\"icon\":\"add_circle_outline\",\"useShowWidgetActionFunction\":null,\"showWidgetActionFunction\":\"return true;\",\"type\":\"customPretty\",\"customHtml\":\"<form #addEntityForm=\\\"ngForm\\\" [formGroup]=\\\"addEntityFormGroup\\\"\\n      (ngSubmit)=\\\"save()\\\" class=\\\"add-entity-form\\\" style=\\\"width: 500px;\\\"\\n      [ngClass]=\\\"isDarkMode ? 'dark' : 'light'\\\">\\n    <mat-toolbar class=\\\"mat-toolbar\\\" fxLayout=\\\"row\\\">\\n        <h2>Add company</h2>\\n        <span fxFlex></span>\\n        <button mat-icon-button (click)=\\\"cancel()\\\" type=\\\"button\\\">\\n            <mat-icon class=\\\"material-icons\\\">close</mat-icon>\\n        </button>\\n    </mat-toolbar>\\n    <mat-progress-bar color=\\\"warn\\\" mode=\\\"indeterminate\\\" *ngIf=\\\"isLoading$ | async\\\">\\n    </mat-progress-bar>\\n    <div style=\\\"height: 4px;\\\" *ngIf=\\\"!(isLoading$ | async)\\\"></div>\\n    <div mat-dialog-content fxLayout=\\\"column\\\">\\n        <div fxLayout=\\\"column\\\" fxLayoutGap=\\\"15px\\\" fxLayout.xs=\\\"column\\\"  fxLayoutGap.xs=\\\"0\\\">\\n            <mat-form-field fxFlex class=\\\"mat-block\\\" appearance=\\\"outline\\\">\\n                <mat-label>Name</mat-label>\\n                <input matInput formControlName=\\\"entityName\\\" required>\\n                <mat-error *ngIf=\\\"addEntityFormGroup.get('entityName').hasError('required')\\\">\\n                    Client name is required.\\n                </mat-error>\\n                <mat-error *ngIf=\\\"addEntityFormGroup.get('entityName').hasError('pattern')\\\">\\n                    Pattern error\\n                </mat-error>\\n            </mat-form-field>\\n            \\n            <mat-form-field fxFlex class=\\\"mat-block\\\" appearance=\\\"outline\\\">\\n                <mat-label>Industrial application type</mat-label>\\n                <mat-select formControlName=\\\"industrialApplication\\\"\\n                          placeholder=\\\"Choose industrial applications\\\" required>\\n                    <mat-option *ngFor=\\\"let application of industrialApplications\\\" \\n                        [value]=\\\"application\\\">\\n                      {{application}}\\n                    </mat-option>\\n                </mat-select>\\n            </mat-form-field>\\n        </div>\\n    </div>\\n    <div mat-dialog-actions fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\"\\n        style=\\\"padding: 0px 24px 15px 24px;\\\">\\n        <button mat-button color=\\\"primary\\\"\\n                type=\\\"button\\\"\\n                [disabled]=\\\"(isLoading$ | async)\\\"\\n                (click)=\\\"cancel()\\\" cdkFocusInitial>\\n            Cancel\\n        </button>\\n        <button mat-button mat-raised-button color=\\\"primary\\\"\\n                type=\\\"submit\\\"\\n                [disabled]=\\\"(isLoading$ | async) || addEntityForm.invalid || !addEntityForm.dirty\\\">\\n            Save\\n        </button>\\n    </div>\\n</form>\\n\",\"customCss\":\".dark{\\n    background: #152642;\\n    color: white;\\n}\\n\\n.light .mat-toolbar{\\n    background: white; \\n    padding: 0 20px 0 24px;\\n}\\n.dark .mat-toolbar{\\n    background: #152642;\\n    color: white;\\n}\\n\\n.dark .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,  \\n.dark .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch, \\n.dark .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{\\n    border-color: #ffffff61;\\n}\\n\\n.dark .mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,\\n.dark .mat-mdc-select-value,\\n.dark .mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{\\n    color: white;\\n}\\n\\n.dark .mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder,\\n.dark .mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{\\n    color: #ffffff8a;\\n}\\n\\n.dark .mdc-text-field--disabled .mdc-notched-outline__leading, \\n.dark .mdc-text-field--disabled .mdc-notched-outline__notch, \\n.dark .mdc-text-field--disabled .mdc-notched-outline__trailing{\\n    border-color: #ffffff0f;\\n}\\n\\n\\n\\n.dark .mat-mdc-form-field .mat-mdc-form-field-hint-wrapper{\\n    color: #fff9;\\n}\\n\\n.dark .mat-mdc-select-disabled .mat-mdc-select-value,\\n.dark .mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow,\\n.dark .mat-mdc-form-field .mat-mdc-select .mat-mdc-select-arrow{\\n    color: #ffffff61;\\n}\\n\\n.dark .system-dialog .blockFields .orBlock,\\n.dark .system-dialog .blockFields .subtitle,\\n.dark .subBlock h2,\\n.dark .blockFields .text{\\n    color: white !important;\\n}\\n\\n.dark .tb-file-name,\\n.dark .tb-flow-drop .upload-label,\\n.dark .mat-icon,\\n.dark .mat-mdc-dialog-content .text{\\n    color: #ffffff8a !important;\\n}\\n\\n.dark .tb-flow-drop .upload-label .mat-icon{\\n   color: #ffffff1f !important; \\n}\\n\\n.dark .tb-flow-drop{\\n    border: 2px dashed rgb(255 255 255 / 20%) !important;\\n}\\n\\n.dark .mat-step-header .mat-step-icon{\\n    background-color: #ffffff1f;\\n}\\n\\n.dark .mat-step-header .mat-step-label.mat-step-label-active{\\n    color: #ffffffbf;\\n}\\n\\n.dark .mat-stepper-horizontal, .dark .mat-stepper-vertical{\\n    background-color: transparent !important;\\n}\\n\\n.dark .mat-horizontal-stepper-header:before, .dark .mat-horizontal-stepper-header:after, .dark .mat-stepper-horizontal-line{\\n    border-top-color: #ffffff1f;\\n}\\n\\n.tb-default .mat-step-header .mat-step-icon-selected, .tb-default .mat-step-header .mat-step-icon-state-done, .tb-default .mat-step-header .mat-step-icon-state-edit{\\n    background-color: var(--tb-primary-500);\\n    color: var(--tb-primary-contrast-500);\\n}\\n\\n.dark .mat-mdc-raised-button[disabled][disabled]{\\n    color: #ffffff59;\\n}\\n\",\"customFunction\":\"let $injector = widgetContext.$scope.$injector;\\nlet customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\\nlet http = $injector.get(widgetContext.servicesMap.get('http'));\\nlet targetId = 'layout';\\n\\nopenAddEntityDialog();\\n\\nfunction openAddEntityDialog() {\\n    customDialog.customDialog(htmlTemplate, AddEntityDialogController).subscribe();\\n}\\n\\nfunction AddEntityDialogController(instance) {\\n    let vm = instance;\\n    \\n    vm.availableDeviceTypes = [];\\n    vm.industrialApplications = ['Building Management'];\\n    vm.isDarkMode = $('.tb-dashboard-page').hasClass('dark');\\n\\n    vm.addEntityFormGroup = vm.fb.group({\\n        entityName: ['', [vm.validators.required, vm.validators.pattern(/^[^<>]*$/)]],\\n        industrialApplication: [vm.industrialApplications[0], [vm.validators.required]]\\n    });\\n\\n    vm.cancel = function() {\\n        vm.dialogRef.close(null);\\n    };\\n\\n    vm.save = function() {\\n        vm.addEntityFormGroup.markAsPristine();\\n        \\n        let formGroup = vm.addEntityFormGroup.value;\\n        let body = {\\n            label: formGroup.entityName,\\n        }\\n        \\n        saveCustomer(body).subscribe(\\n            (res) => {\\n                successHandler('Company created successfully');\\n            },(error) => {\\n                errorHandler(error);\\n            }\\n        );\\n    };\\n    \\n    function saveCustomer(body){\\n        return http.post('/api/custom/company', body);\\n    }\\n    \\n    function successHandler(text){\\n        widgetContext.$scope.showToast('success', text, 4000, \\n                    'top', 'right', targetId);\\n        widgetContext.updateAliases();\\n        vm.cancel();\\n    }\\n    \\n    function errorHandler(error){\\n        let errorText = error.error.message || error.message;\\n        widgetContext.$scope.showToast('error', errorText, 4000, \\n                    'top', 'right', targetId);\\n    }\\n}\\n\",\"customResources\":[],\"openInSeparateDialog\":false,\"openInPopover\":false,\"id\":\"92d1a91a-9407-41dd-2214-b0753aca43fc\"}]},\"useDashboardTimewindow\":true,\"displayTimewindow\":true,\"borderRadius\":\"10px 10px 0 0 \"}"
    },
    "externalId" : null,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "77322e70-b3b3-11ef-838c-5dd5db96bde1"
    },
    "scada" : false,
    "tags" : null
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}