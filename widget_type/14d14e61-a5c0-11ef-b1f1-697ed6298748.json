{
  "entityType" : "WIDGET_TYPE",
  "entity" : {
    "fqn" : "tab_navigation",
    "name" : "Tab navigation",
    "deprecated" : false,
    "image" : "tb-image:dGFicy5wbmc=:dGFicy5wbmc=:SU1BR0U=;data:image/png;base64,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",
    "description" : null,
    "descriptor" : {
      "type" : "static",
      "sizeX" : 7.5,
      "sizeY" : 1,
      "resources" : [ ],
      "templateHtml" : "<div id=\"{{widgetId}}\" class=\"mainContainer\">\n    <div class=\"navigation\">\n        <div class='item' *ngFor=\"let item of menu\"\n            [ngClass]=\"item.active ? 'active' : ''\"\n            (click)=\"onActionClick($event, item)\">\n            <div>\n                {{item.name}}\n            </div>\n        </div>\n    </div>\n    <div class=\"descriptionBlock\">\n        <mat-icon>info_outline</mat-icon>\n        <span>View description</span>\n    </div>\n</div>",
      "templateCss" : ".mainContainer {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.navigation{\n    display: flex;\n    width: 50%;\n    height: 100%;\n    align-items: center;\n    overflow: auto hidden;\n}\n.navigation .item{\n    color: #495057;\n    cursor: pointer;\n    font-weight: 400;\n    padding: 5px 20px;\n    font-size: 14px;\n}\n\n.navigation .item:hover{\n    background: var(--tb-primary-50);\n}\n\n.navigation .item.active{\n    color: var(--tb-primary-500);\n    font-weight: bold;\n    border-bottom: 2px solid var(--tb-primary-500);\n}\n\n.navigation .submenu{\n    padding: 5px 10px;\n    margin: 2px 0;\n    cursor: pointer;\n}\n\n::ng-deep \n.mat-mdc-menu-content .submenu:hover{\n    background: #eee ;\n}\n\n.descriptionBlock {\n    display: flex;\n    align-items: center;\n    justify-content: end;\n    color: #026AA2;\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 28px;\n    text-align: left;\n    gap: 10px;\n}\n",
      "controllerScript" : "let menu = [{\n    name: 'Overview',\n    action: 'overview',\n    active: false\n},{\n    name: 'Usage',\n    action: 'usage',\n    active: false\n},{\n    name: 'Trims',\n    action: 'trims',\n    active: false\n}]\n\n\nself.onInit = function() {\n    var $injector = self.ctx.$scope.$injector;\n    var utils = $injector.get(self.ctx.servicesMap.get('utils'));\n    let settings = utils.deepClone(self.ctx.settings) || {};\n    self.ctx.$scope.menu = menu;\n    \n    let menuFromSettings = settings.menuItems;\n    if(menuFromSettings && menuFromSettings.length>0){\n        menuFromSettings = menuFromSettings.map(item => ({\n            name: item.name,\n            action: item.action,\n            active: false\n        }));\n        self.ctx.$scope.menu = menuFromSettings;\n    }\n    \n    if(self.ctx.$scope.ctx.stateController){\n        let params = self.ctx.$scope.ctx.stateController.getStateParams();\n        if(params['subState']){\n            makeActive(params['subState'])\n        }else{\n            self.ctx.$scope.menu[0].active = true;\n        }\n        self.ctx.detectChanges();\n    }\n    \n    function makeActive(value){\n        self.ctx.$scope.menu.forEach(item=>{\n            if(item.action == value) item.active = true;\n            else item.active = false;\n        })\n    }\n\n    self.ctx.$scope.onActionClick = function(event, item){\n        let params = self.ctx.$scope.ctx.stateController.getStateParams();\n        let actionEventDescriptors = self.ctx.$scope.ctx.actionsApi.getActionDescriptors('elementClick');\n        let actionEvent;\n        \n        if (actionEventDescriptors.length) {\t\n            actionEventDescriptors.forEach(action=>{\n                if(action.name == item.action){\n                    actionEvent = action;\n                }\n            });\n            params.subState = item.action;\n            makeActive(item.action);\n            \n            setTimeout(() => {\n                self.ctx.$scope.ctx.actionsApi.handleWidgetAction(params, actionEvent, params['entityId'] || null, params['entityName'] || null);\t\n                    \n            }, 0);\t\n        }\n    }\n}\n\nself.actionSources = function() {\n    return {\n        'elementClick': {\n            name: 'widget-action.element-click',\n            multiple: true\n        }\n    };\n}\n\nself.onDestroy = function() {\n}\n",
      "settingsSchema" : "{\n    \"schema\": {\n      \"type\": \"object\",\n      \"title\": \"Comment\",\n      \"required\": [\n        \"menuItems\"\n      ],\n      \"properties\": {\n        \"menuItems\": {\n          \"type\": \"array\",\n          \"title\": \"Menu items\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"name\": {\n                \"title\": \"Name\",\n                \"type\": \"string\"\n              },\n              \"action\": {\n                \"title\": \"Action name\",\n                \"type\": \"string\"\n              }\n            },\n            \"required\": [\n              \"name\",\n              \"action\"\n            ]\n          }\n        }\n      }\n    },\n    \"form\": [\n        {\n            \"key\": \"menuItems\",\n            \"items\": [\n              \"menuItems[].name\",\n              \"menuItems[].action\"\n            ]\n        }\n    ]\n }",
      "dataKeySettingsSchema" : "",
      "settingsDirective" : "",
      "defaultConfig" : "{\"datasources\":[{\"type\":\"static\",\"name\":\"function\",\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#2196f3\",\"settings\":{},\"_hash\":0.15479322438769105,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"}]}],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"showTitle\":false,\"backgroundColor\":\"rgba(255, 255, 255, 0)\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"8px\",\"settings\":{\"menuItems\":[{\"name\":\"General\",\"action\":\"general\"}]},\"title\":\"HTML Card\",\"dropShadow\":false,\"enableFullscreen\":false,\"enableDataExport\":false,\"widgetStyle\":{},\"widgetCss\":\"\",\"pageSize\":1024,\"noDataDisplayMessage\":\"\"}"
    },
    "externalId" : null,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "14d14e61-a5c0-11ef-b1f1-697ed6298748"
    },
    "scada" : false,
    "tags" : null
  },
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}