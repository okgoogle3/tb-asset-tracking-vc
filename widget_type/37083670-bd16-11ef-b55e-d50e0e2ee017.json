{
  "entityType" : "WIDGET_TYPE",
  "entity" : {
    "fqn" : "alarm_wide_card",
    "name" : "Alarm wide card",
    "deprecated" : false,
    "image" : null,
    "description" : null,
    "descriptor" : {
      "type" : "alarm",
      "sizeX" : 5.5,
      "sizeY" : 2,
      "resources" : [ ],
      "templateHtml" : "<tb-alarms-table-widget \n    style=\"display: none;\"\n    [ctx]=\"ctx\">\n</tb-alarms-table-widget>\n\n<div class=\"card\" fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"space-between center\">\n    <div class=\"circle\" style=\"background-color: {{iconBackground}}; color: {{iconColor}}\">\n       <mat-icon>{{icon}}</mat-icon>\n    </div>\n    <h3>{{label}}</h3>\n    <h1>{{value}}</h1>\n</div>",
      "templateCss" : ".card {\n   width: 100%;\n   height: 100%;\n   color: #344054;\n   display: flex;\n   flex-direction: column;\n   justify-content: space-between;\n}\n\n.card .content {\n   padding: 20px;\n   display: flex;\n   flex-direction: row;\n   align-items: center;\n   justify-content: flex-start;\n   height: 100%;\n   width: 100%;\n   box-sizing: border-box;\n}\n\n.card .content .column {\n   display: flex;\n   flex-direction: column;    \n   justify-content: space-around;\n   height: 100%;\n}\n\n.card h2{\n    font-size: 20px;\n    font-weight: 600;\n    margin: 3px 0;\n    line-height: 26px;\n}\n\n.card h3{\n    font-size: 14px;\n    font-weight: 400;\n    margin: 5px 0;\n    line-height: 18px;\n    color: #344054;\n}\n\n.card h1{\n    display: flex;\n    align-items: baseline;\n    font-size: 24px;\n    font-weight: 600;\n    line-height: 24px;\n    margin: 0;\n    gap: 5px;\n}\n\n.card h1 .unit{\n    font-size: 18px;\n    font-weight: 400;\n    color: #344054;\n}\n\n.card .comfort{\n    font-size: 20px;\n    line-height: 28px;\n}\n\n.card h4{\n    font-size: 14px;\n    font-weight: 400;\n    margin: 5px 0;\n    line-height: 20px;\n    color: #667085;\n}\n\n.card .status{\n    flex-basis: 50%;\n}\n\n.card .updated{\n    color: #667085;\n    align-items: center;\n    gap: 8px;\n}\n\n.card .percent{\n    color: #42af58;\n    vertical-align: super;\n    font-weight: 500;\n    font-size: 24px;\n    height: 100%;\n}\n\n.card .value {\n    font-size: 28px;\n    font-weight: 600;\n}\n\n.card .description {\n    font-size: 14px;\n    margin-top: 7px;\n}\n\n.circle{\n    height: 45px;\n    width: 45px;\n    background-color: #FFF2F1;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    color: #FF3B30;\n    justify-content: center;\n    margin: 5px 0;\n}\n",
      "controllerScript" : "self.onInit = function() {\n    let utils = self.ctx.$scope.$injector.get(self.ctx.servicesMap.get('utils'));\n    settings = utils.deepClone(self.ctx.settings) || {};\n    self.ctx.$scope.units = self.ctx.units;\n    \n    self.ctx.$scope.value = 0;\n    self.ctx.$scope.label = 'Alerts';\n    self.ctx.$scope.icon = 'warning_amber';\n    self.ctx.$scope.iconColor = '#B42318'; \n    self.ctx.$scope.iconBackground = '#FEE4E2'; \n}\n\nself.onDataUpdated = function() {\n    self.ctx.$scope.alarmsTableWidget.onDataUpdated();\n    self.ctx.$scope.value = 0;\n    self.ctx.$scope.value = self.ctx.defaultSubscription.alarms.totalElements;\n    self.ctx.$scope.timeUpdated = moment().fromNow();\n    \n    self.ctx.detectChanges();\n}\n\nself.onEditModeChanged = function() {\n    self.ctx.$scope.alarmsTableWidget.onEditModeChanged();\n}\n\nself.actionSources = function() {\n    return {\n        'actionCellButton': {\n            name: 'widget-action.action-cell-button',\n            multiple: true,\n            hasShowCondition: true\n        },\n        'rowClick': {\n            name: 'widget-action.row-click',\n            multiple: false\n        },\n        'cellClick': {\n            name: 'widget-action.cell-click',\n            multiple: true\n        }\n    };\n}\n\nself.typeParameters = function() {\n    return {\n        datasourcesOptional: true,\n        dataKeysOptional: true\n    };\n}\n\nself.onDestroy = function() {\n}\n",
      "settingsSchema" : "{\n    \"schema\": {\n        \"type\": \"object\",\n        \"title\": \"Settings\",\n        \"properties\": {\n            \"title\": {\n                \"title\": \"title\",\n                \"type\": \"string\"\n            },\n            \"icon\": {\n                \"title\": \"Icon\",\n                \"type\": \"string\"\n            },\n            \"iconColor\": {\n                \"title\": \"Icon color\",\n                \"type\": \"string\"\n            },\n            \"iconBackground\": {\n                \"title\": \"Icon background\",\n                \"type\": \"string\"\n            }\n        },\n        \"required\": []\n    },\n    \"form\": [\n        [\n            \"title\",\n            {\n                \"key\": \"icon\",\n                \"type\": \"icon\"\n            },\n            {\n                \"key\": \"iconColor\",\n                \"type\": \"color\"\n            },\n            {\n                \"key\": \"iconBackground\",\n                \"type\": \"color\"\n            }\n        ]\n    ],\n    \"groupInfoes\": [\n        {\n            \"formIndex\": 0,\n            \"GroupTitle\": \"Icon settings\"\n        }\n    ]\n}\n\n",
      "dataKeySettingsSchema" : "",
      "settingsDirective" : "tb-alarms-table-widget-settings",
      "dataKeySettingsDirective" : "",
      "hasBasicMode" : true,
      "basicModeDirective" : "tb-alarms-table-basic-config",
      "defaultConfig" : "{\"timewindow\":{\"realtime\":{\"interval\":1000,\"timewindowMs\":86400000},\"aggregation\":{\"type\":\"NONE\",\"limit\":200}},\"showTitle\":false,\"backgroundColor\":\"rgb(255, 255, 255)\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"18px\",\"settings\":{\"alarmsTitle\":\"\",\"enableSelection\":false,\"enableSearch\":false,\"enableSelectColumnDisplay\":false,\"enableFilter\":false,\"enableStickyHeader\":false,\"enableStickyAction\":false,\"showCellActionsMenu\":false,\"reserveSpaceForHiddenAction\":\"true\",\"displayDetails\":false,\"allowAcknowledgment\":false,\"allowClear\":false,\"allowAssign\":false,\"displayActivity\":false,\"displayPagination\":true,\"defaultPageSize\":10,\"defaultSortOrder\":\"-createdTime\",\"useRowStyleFunction\":false,\"rowStyleFunction\":\"\"},\"title\":\"Alarms table\",\"dropShadow\":false,\"enableFullscreen\":false,\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400,\"padding\":\"5px 10px 5px 10px\"},\"useDashboardTimewindow\":true,\"showLegend\":false,\"alarmSource\":{\"type\":\"function\",\"dataKeys\":[{\"name\":\"createdTime\",\"type\":\"alarm\",\"label\":\"Created time\",\"color\":\"#2196f3\",\"settings\":{\"useCellStyleFunction\":false,\"cellStyleFunction\":\"\",\"useCellContentFunction\":false,\"cellContentFunction\":\"\"},\"_hash\":0.021092237451093787},{\"name\":\"originator\",\"type\":\"alarm\",\"label\":\"Originator\",\"color\":\"#4caf50\",\"settings\":{\"useCellStyleFunction\":false,\"cellStyleFunction\":\"\",\"useCellContentFunction\":false,\"cellContentFunction\":\"\"},\"_hash\":0.2780007688856758},{\"name\":\"type\",\"type\":\"alarm\",\"label\":\"Type\",\"color\":\"#f44336\",\"settings\":{\"useCellStyleFunction\":false,\"cellStyleFunction\":\"\",\"useCellContentFunction\":false,\"cellContentFunction\":\"\"},\"_hash\":0.7323586880398418},{\"name\":\"severity\",\"type\":\"alarm\",\"label\":\"Severity\",\"color\":\"#ffc107\",\"settings\":{\"useCellStyleFunction\":false,\"useCellContentFunction\":false},\"_hash\":0.09927019860088193},{\"name\":\"status\",\"type\":\"alarm\",\"label\":\"Status\",\"color\":\"#607d8b\",\"settings\":{\"useCellStyleFunction\":false,\"cellStyleFunction\":\"\",\"useCellContentFunction\":false,\"cellContentFunction\":\"\"},\"_hash\":0.6588418951443418},{\"name\":\"assignee\",\"type\":\"alarm\",\"label\":\"Assignee\",\"color\":\"#9c27b0\",\"settings\":{},\"_hash\":0.5008441077416634}],\"entityAliasId\":null,\"name\":\"alarms\"},\"alarmSearchStatus\":\"ANY\",\"alarmsPollingInterval\":5,\"showTitleIcon\":false,\"titleIcon\":\"warning\",\"iconColor\":\"rgba(0, 0, 0, 0.87)\",\"iconSize\":\"24px\",\"titleTooltip\":\"\",\"widgetStyle\":{\"border\":\"1px solid #D0D5DD\"},\"displayTimewindow\":true,\"actions\":{},\"alarmStatusList\":[],\"alarmSeverityList\":[],\"alarmTypeList\":[],\"searchPropagatedAlarms\":false,\"configMode\":\"advanced\",\"alarmFilterConfig\":null,\"enableDataExport\":false,\"widgetCss\":\"\",\"pageSize\":1024,\"noDataDisplayMessage\":\"\",\"borderRadius\":\"12px\"}"
    },
    "externalId" : null,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "37083670-bd16-11ef-b55e-d50e0e2ee017"
    },
    "scada" : false,
    "tags" : null
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}